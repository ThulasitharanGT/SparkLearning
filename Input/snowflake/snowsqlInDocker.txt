docker run -t -i ubuntu:latest
apt-get update ​
apt-get install -y vim

#apt-get update ​
#apt-get install curl -y​
apt-get update ​
apt-get install git -y​
apt-get update ​
apt-get install wget -y​
apt-get update ​
apt-get install unzip -y​
mkdir /usr/local/bin/temp​
cd /usr/local/bin/temp​
wget "https://sfc-repo.snowflakecomputing.com/snowsql/bootstrap/1.2/linux_x86_64/snowsql-1.2.5-linux_x86_64.bash"​
bash snowsql-1.2.5-linux_x86_64.bash​
​
# install it in /usr/soft/snowsql/​
​
export PATH=~/.local/bin:$PATH​
export PATH=/usr/soft/snowsql/:$PATH​
export LC_ALL=C.UTF-8​
export LANG=C.UTF-8​
​
export SNOWSQL_PWD=Thulz@1996​
export SNOWSQL_USER=206643136​
export SNOWSQL_DATABASE=DEMO_DB​
export SNOWSQL_SCHEMA=PUBLIC​
export SNOWSQL_ROLE=NBCU_DATA_INTEG_META_DI_PROD​
export SNOWSQL_WAREHOUSE=NBCU_DATA_INTEG_PROD_DI_WH2​
export SNOWSQL_ACCOUNT=nbcu.us-east-1​
​
#snowsql -a nbcu -u 206643136 -d DEMO_DB -s PUBLIC -r NBCU_DATA_INTEG_META_DI_PROD -w NBCU_DATA_INTEG_PROD_DI_WH2 --region us-east-1 # account name must come with region id​
​
snowsql #if configured​
​
#csv files present in /tmp/​
put file:///tmp/*.csv @%tempstagetest    -- copies to stage​
​
copy into demo_db.public.tempstagetest from @%tempstagetest ​
FILE_FORMAT = (TYPE = 'CSV'  field_optionally_enclosed_by='"'  RECORD_DELIMITER = '\n' FIELD_DELIMITER = '|'   )​
on_error=CONTINUE -- # table stage reffered here​
​
put file:///tmp/*.csv @%tempstagetest/data auto_compress=false;     -- copies to data folder inside stage ! no idea what happens internally -- table stage ​
​
put file:///tmp/*.csv @~/data/tempstagetest auto_compress=false;  -- user's  storage. any folder data can be copied and loaded in corrosponding tables. #only 1 file got loaded​
​
put file:///tmp/*.csv @~/data/tempstagetest ;  -- user's  storage. any folder data can be copied and loaded in corrosponding tables. #all files got loaded​
​
copy into demo_db.public.tempstagetest from @~/data/tempstagetest ​
FILE_FORMAT = (TYPE = 'CSV'  field_optionally_enclosed_by='"'  RECORD_DELIMITER = '\n' FIELD_DELIMITER = '|'   )​
on_error=CONTINUE -- stage reffered here // usersatge ​
​
​
copy into demo_db.public.tempstagetest from (select $1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24 from @~/data/tempstagetest)​
FILE_FORMAT = (TYPE = 'CSV'  field_optionally_enclosed_by='"'  RECORD_DELIMITER = '\n' FIELD_DELIMITER = '|'   )​
on_error=CONTINUE  ​
​​
select $1 from  @~/data/tempstagetest  -- reading from user stage​
